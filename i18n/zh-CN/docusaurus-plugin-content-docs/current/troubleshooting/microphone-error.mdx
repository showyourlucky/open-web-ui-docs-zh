---
sidebar_position: 2
title: "🎙️ 解决麦克风访问问题"
---

确保您的应用程序能够正确访问麦克风对于依赖音频输入的功能至关重要。本指南将介绍如何管理和排查麦克风权限的问题，特别是在安全上下文中。

## 理解安全上下文 🔒

出于安全考虑，麦克风的访问仅限于通过 HTTPS 或本地 `localhost` 提供的页面。这一要求旨在通过确保数据通过安全通道传输来保护您的数据安全。

## 常见权限问题 🚫

像 Chrome、Brave、Microsoft Edge、Opera 和 Vivaldi 这样的浏览器，以及 Firefox，在非 HTTPS 的 URL 上会限制麦克风的访问。这种情况通常会在您从同一网络中的另一设备访问站点时出现（例如，使用手机访问桌面服务器）。以下是如何解决这些问题的方法：

### 非 HTTPS 连接的解决方案

1. **设置 HTTPS：**
   - 强烈建议配置您的服务器以支持 HTTPS。这不仅解决了权限问题，还增强了数据传输的安全性。

2. **临时浏览器标志（谨慎使用）：**
   - 这些设置强制浏览器将某些不安全的 URL 视为安全。这对开发非常有用，但存在显著的安全风险。以下是调整这些设置的方法，适用于主流浏览器：

   #### 基于 Chromium 的浏览器（如 Chrome、Brave）
   - 打开 `chrome://flags/#unsafely-treat-insecure-origin-as-secure`。
   - 输入您的非 HTTPS 地址（例如 `http://192.168.1.35:3000`）。
   - 重启浏览器以应用更改。

   #### 基于 Firefox 的浏览器
   - 打开 `about:config`。
   - 搜索并修改（或创建）字符串值 `dom.securecontext.allowlist`。
   - 添加您的 IP 地址，用逗号分隔（例如 `http://127.0.0.1:8080`）。

### 考虑事项和风险 🚨

虽然浏览器标志提供了一种快速修复的方法，但它们绕过了重要的安全检查，可能会使您的设备和数据暴露于漏洞之中。始终优先考虑适当的安全措施，尤其是在计划生产环境时。

遵循这些最佳实践，您可以确保应用程序正确访问麦克风，同时保持数据的安全性和完整性。