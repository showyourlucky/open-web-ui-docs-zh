---
sidebar_position: 1000
title: "âš¡ Pipelines"
---

<p align="center">
  <a href="#">
    <img src="/img/pipelines/header.png" alt="Pipelines Logo" />
  </a>
</p>

# Pipelinesï¼šä¸UIæ— å…³çš„OpenAI APIæ’ä»¶æ¡†æ¶

:::tip
å¦‚æœä½ çš„ç›®æ ‡åªæ˜¯ä¸ºAnthropicç­‰å…¶ä»–æä¾›å•†æˆ–åŸºæœ¬è¿‡æ»¤å™¨æ·»åŠ æ”¯æŒï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¸éœ€è¦ä½¿ç”¨Pipelinesã€‚å¯¹äºè¿™äº›æƒ…å†µï¼Œ[Open WebUI Functions](/features/plugin/functions)ä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©â€”â€”å®ƒå†…ç½®ã€æ›´åŠ ä¾¿æ·ä¸”æ˜“äºé…ç½®ã€‚ç„¶è€Œï¼Œå½“ä½ éœ€è¦å¤„ç†è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆä¾‹å¦‚è¿è¡Œå¤§å‹æ¨¡å‹æˆ–å¤æ‚é€»è¾‘ï¼‰å¹¶å¸Œæœ›å°†å…¶ä»ä¸»Open WebUIå®ä¾‹ä¸­å¸è½½ä»¥æé«˜æ€§èƒ½å’Œå¯æ‰©å±•æ€§æ—¶ï¼ŒPipelineså°±æ´¾ä¸Šç”¨åœºäº†ã€‚
:::

æ¬¢è¿æ¥åˆ°**Pipelines**ï¼Œè¿™æ˜¯[Open WebUI](https://github.com/open-webui)çš„ä¸€ä¸ªé¡¹ç›®ã€‚Pipelinesä¸ºä»»ä½•æ”¯æŒOpenAI APIè§„èŒƒçš„UIå®¢æˆ·ç«¯å¸¦æ¥äº†æ¨¡å—åŒ–ã€å¯å®šåˆ¶çš„å·¥ä½œæµâ€”â€”ç”šè‡³æ›´å¤šï¼åªéœ€å‡ è¡Œä»£ç å³å¯è½»æ¾æ‰©å±•åŠŸèƒ½ã€é›†æˆç‹¬ç‰¹é€»è¾‘å¹¶åˆ›å»ºåŠ¨æ€å·¥ä½œæµã€‚

## ğŸš€ ä¸ºä»€ä¹ˆé€‰æ‹©Pipelinesï¼Ÿ

- **æ— é™å¯èƒ½**ï¼šè½»æ¾æ·»åŠ è‡ªå®šä¹‰é€»è¾‘å¹¶é›†æˆPythonåº“ï¼Œæ— è®ºæ˜¯AIä»£ç†è¿˜æ˜¯å®¶åº­è‡ªåŠ¨åŒ–APIã€‚
- **æ— ç¼é›†æˆ**ï¼šå…¼å®¹ä»»ä½•æ”¯æŒOpenAI APIè§„èŒƒçš„UI/å®¢æˆ·ç«¯ã€‚ï¼ˆä»…æ”¯æŒpipeç±»å‹çš„ç®¡é“ï¼›è¿‡æ»¤ç±»å‹éœ€è¦å…·æœ‰Pipelinesæ”¯æŒçš„å®¢æˆ·ç«¯ã€‚ï¼‰
- **è‡ªå®šä¹‰é’©å­**ï¼šæ„å»ºå’Œé›†æˆè‡ªå®šä¹‰ç®¡é“ã€‚

### ç¤ºä¾‹å±•ç¤ºï¼š

- [**å‡½æ•°è°ƒç”¨ç®¡é“**](https://github.com/open-webui/pipelines/blob/main/examples/filters/function_calling_filter_pipeline.py)ï¼šè½»æ¾å¤„ç†å‡½æ•°è°ƒç”¨ï¼Œå¹¶é€šè¿‡è‡ªå®šä¹‰é€»è¾‘å¢å¼ºä½ çš„åº”ç”¨ç¨‹åºã€‚
- [**è‡ªå®šä¹‰RAGç®¡é“**](https://github.com/open-webui/pipelines/blob/main/examples/pipelines/rag/llamaindex_pipeline.py)ï¼šæ ¹æ®éœ€æ±‚å®ç°å¤æ‚çš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ç®¡é“ã€‚
- [**ä½¿ç”¨Langfuseè¿›è¡Œæ¶ˆæ¯ç›‘æ§**](https://github.com/open-webui/pipelines/blob/main/examples/filters/langfuse_filter_pipeline.py)ï¼šä½¿ç”¨Langfuseå®æ—¶ç›‘æ§å’Œåˆ†ææ¶ˆæ¯äº¤äº’ã€‚
- [**é€Ÿç‡é™åˆ¶è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/rate_limit_filter_pipeline.py)ï¼šæ§åˆ¶è¯·æ±‚æµä»¥é˜²æ­¢è¶…è¿‡é€Ÿç‡é™åˆ¶ã€‚
- [**LibreTranslateå®æ—¶ç¿»è¯‘è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/libretranslate_filter_pipeline.py)ï¼šåœ¨LLMäº¤äº’ä¸­æ— ç¼é›†æˆå®æ—¶ç¿»è¯‘ã€‚
- [**æœ‰æ¯’æ¶ˆæ¯è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py)ï¼šæœ‰æ•ˆæ£€æµ‹å’Œå¤„ç†æœ‰æ¯’æ¶ˆæ¯ã€‚
- **è¿˜æœ‰æ›´å¤šï¼**ï¼šä½¿ç”¨Pipelineså’ŒPythonå¯ä»¥å®ç°çš„æ½œåŠ›æ— ç©·æ— å°½ã€‚[æŸ¥çœ‹æˆ‘ä»¬çš„è„šæ‰‹æ¶](https://github.com/open-webui/pipelines/blob/main/examples/scaffolds)ï¼Œä¸ºä½ çš„é¡¹ç›®æ‰“ä¸‹åŸºç¡€ï¼Œçœ‹çœ‹å¦‚ä½•ç®€åŒ–å¼€å‘æµç¨‹å§ï¼

## ğŸ”§ å·¥ä½œåŸç†

<p align="center">
  <a href="#">
    <img src="/img/pipelines/workflow.png" alt="Pipelines Workflow" />
  </a>
</p>

å°†Pipelinesä¸ä»»ä½•å…¼å®¹OpenAI APIçš„UIå®¢æˆ·ç«¯é›†æˆéå¸¸ç®€å•ã€‚å¯åŠ¨ä½ çš„Pipelineså®ä¾‹ï¼Œå¹¶å°†å®¢æˆ·ç«¯ä¸Šçš„OpenAI URLè®¾ç½®ä¸ºPipelines URLã€‚å°±æ˜¯è¿™æ ·ï¼ä½ å·²ç»å‡†å¤‡å¥½åˆ©ç”¨ä»»ä½•Pythonåº“æ¥æ»¡è¶³ä½ çš„éœ€æ±‚äº†ã€‚

## âš¡ ä½¿ç”¨Dockerå¿«é€Ÿå¼€å§‹

:::warning
Pipelinesæ˜¯ä¸€ä¸ªå¸¦æœ‰ä»»æ„ä»£ç æ‰§è¡Œçš„æ’ä»¶ç³»ç»Ÿâ€”â€”**ä¸è¦ä»ä¸å¯ä¿¡æ¥æºè·å–éšæœºç®¡é“**ã€‚
:::

ä½¿ç”¨Dockerè¿›è¡Œç®€åŒ–è®¾ç½®ï¼š

1. **è¿è¡ŒPipelineså®¹å™¨ï¼š**

   ```sh
   docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
   ```

2. **è¿æ¥åˆ°Open WebUIï¼š**

   - å¯¼èˆªåˆ°Open WebUIä¸­çš„**ç®¡ç†é¢æ¿ > è®¾ç½® > è¿æ¥**éƒ¨åˆ†ã€‚
   - åœ¨æ­¤é¡µé¢ä¸Šï¼Œä½ å¯ä»¥æŒ‰ä¸‹`+`æŒ‰é’®æ·»åŠ æ–°çš„è¿æ¥ã€‚
   - å°†API URLè®¾ç½®ä¸º`http://localhost:9099`ï¼ŒAPIå¯†é’¥è®¾ç½®ä¸º`0p3n-w3bu!`ã€‚
   - æ·»åŠ å¹¶éªŒè¯ä½ çš„ç®¡é“è¿æ¥åï¼Œä½ ä¼šçœ‹åˆ°åœ¨API Base URLå­—æ®µä¸­å‡ºç°ä¸€ä¸ªå›¾æ ‡ï¼Œæ‚¬åœæ—¶å›¾æ ‡ä¼šè¢«æ ‡è®°ä¸º`Pipelines`ã€‚ç°åœ¨ä½ çš„ç®¡é“åº”è¯¥å·²æ¿€æ´»ã€‚

:::info
å¦‚æœOpen WebUIè¿è¡Œåœ¨ä¸€ä¸ªDockerå®¹å™¨ä¸­ï¼Œè¯·å°†API URLä¸­çš„`localhost`æ›¿æ¢ä¸º`host.docker.internal`ã€‚
:::

3. **ç®¡ç†é…ç½®ï¼š**

   - åœ¨ç®¡ç†é¢æ¿ä¸­ï¼Œè¿›å…¥**ç®¡ç†é¢æ¿ > è®¾ç½® > ç®¡é“**é€‰é¡¹å¡ã€‚
   - é€‰æ‹©æ‰€éœ€çš„ç®¡é“å¹¶ç›´æ¥ä»WebUIä¿®æ”¹é˜€é—¨å€¼ã€‚

:::tip
å¦‚æœä½ æ— æ³•è¿æ¥ï¼Œå¾ˆå¯èƒ½æ˜¯Dockerç½‘ç»œé—®é¢˜ã€‚æˆ‘ä»¬é¼“åŠ±ä½ è‡ªå·±æ’æŸ¥å¹¶åˆ†äº«æ–¹æ³•å’Œè§£å†³æ–¹æ¡ˆåˆ°è®¨è®ºè®ºå›ã€‚
:::

å¦‚æœä½ éœ€è¦å®‰è£…å¸¦æœ‰é¢å¤–ä¾èµ–é¡¹çš„è‡ªå®šä¹‰ç®¡é“ï¼š

- **è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

  ```sh
  docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -e PIPELINES_URLS="https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py" -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
  ```

æˆ–è€…ï¼Œä½ å¯ä»¥ç›´æ¥ä»ç®¡ç†è®¾ç½®ä¸­é€šè¿‡å¤åˆ¶ç²˜è´´ç®¡é“URLæ¥å®‰è£…ç®¡é“ï¼Œå‰ææ˜¯è¯¥ç®¡é“æ²¡æœ‰é¢å¤–çš„ä¾èµ–é¡¹ã€‚

å°±æ˜¯è¿™æ ·ï¼ä½ ç°åœ¨å¯ä»¥è½»æ¾åœ°ä½¿ç”¨Pipelinesæ„å»ºå¯å®šåˆ¶çš„AIé›†æˆã€‚å°½æƒ…äº«å—å§ï¼

## ğŸ“¦ å®‰è£…ä¸è®¾ç½®

åªéœ€å‡ æ­¥å³å¯å¼€å§‹ä½¿ç”¨Pipelinesï¼š

1. **ç¡®ä¿å®‰è£…äº†Python 3.11**ã€‚è¿™æ˜¯å”¯ä¸€å®˜æ–¹æ”¯æŒçš„Pythonç‰ˆæœ¬ã€‚
2. **å…‹éš†Pipelinesä»“åº“ï¼š**

   ```sh
   git clone https://github.com/open-webui/pipelines.git
   cd pipelines
   ```

3. **å®‰è£…æ‰€éœ€ä¾èµ–ï¼š**

   ```sh
   pip install -r requirements.txt
   ```

4. **å¯åŠ¨PipelinesæœåŠ¡å™¨ï¼š**

   ```sh
   sh ./start.sh
   ```

ä¸€æ—¦æœåŠ¡å™¨è¿è¡Œèµ·æ¥ï¼Œå°†å®¢æˆ·ç«¯ä¸Šçš„OpenAI URLè®¾ç½®ä¸ºPipelines URLã€‚è¿™å°†è§£é”Pipelinesçš„å…¨éƒ¨åŠŸèƒ½ï¼Œå…è®¸ä½ é›†æˆä»»ä½•Pythonåº“å¹¶åˆ›å»ºç¬¦åˆä½ éœ€æ±‚çš„è‡ªå®šä¹‰å·¥ä½œæµã€‚

## ğŸ“‚ ç›®å½•ç»“æ„ä¸ç¤ºä¾‹

`/pipelines`ç›®å½•æ˜¯ä½ çš„æ ¸å¿ƒè®¾ç½®ã€‚åœ¨è¿™é‡Œæ·»åŠ æ–°æ¨¡å—ã€è‡ªå®šä¹‰ç°æœ‰æ¨¡å—å¹¶ç®¡ç†å·¥ä½œæµã€‚æ‰€æœ‰ä½äº`/pipelines`ç›®å½•ä¸­çš„ç®¡é“å°†åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶**è‡ªåŠ¨åŠ è½½**ã€‚

ä½ å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡`PIPELINES_DIR`å°†ç›®å½•ä»`/pipelines`æ›´æ”¹ä¸ºå…¶ä»–ä½ç½®ã€‚

### é›†æˆç¤ºä¾‹

åœ¨`https://github.com/open-webui/pipelines/blob/main/examples`ç›®å½•ä¸­æ‰¾åˆ°å„ç§é›†æˆç¤ºä¾‹ã€‚è¿™äº›ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é›†æˆä¸åŒçš„åŠŸèƒ½ï¼Œä¸ºæ„å»ºè‡ªå·±çš„è‡ªå®šä¹‰ç®¡é“å¥ å®šäº†åŸºç¡€ã€‚

## ğŸ‰ æ­£åœ¨è¿›è¡Œä¸­çš„å·¥ä½œ

æˆ‘ä»¬æ­£åœ¨ä¸æ–­è¿›åŒ–ï¼æˆ‘ä»¬éå¸¸ä¹æ„å¬å–ä½ çš„åé¦ˆï¼Œäº†è§£å“ªäº›é’©å­å’ŒåŠŸèƒ½æœ€é€‚åˆä½ çš„åº”ç”¨åœºæ™¯ã€‚éšæ—¶è”ç³»æˆ‘ä»¬ï¼ŒåŠ å…¥æˆ‘ä»¬çš„Open WebUIç¤¾åŒºå§ï¼

æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯å°†**Pipelines**æ‰“é€ æˆä¸ºæˆ‘ä»¬AIç•Œé¢â€”â€”**Open WebUI**çš„ç»ˆææ’ä»¶æ¡†æ¶ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œ**Open WebUI**å°±åƒAIç•Œé¢é¢†åŸŸçš„WordPressï¼Œè€Œ**Pipelines**åˆ™æ˜¯å…¶ä¸°å¯Œçš„æ’ä»¶é›†ã€‚åŠ å…¥æˆ‘ä»¬ï¼Œä¸€èµ·è¸ä¸Šè¿™æ®µæ¿€åŠ¨äººå¿ƒçš„æ—…ç¨‹å§ï¼ ğŸŒ
