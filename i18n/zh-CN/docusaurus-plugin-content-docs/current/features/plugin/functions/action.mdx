---
sidebar_position: 3
title: "🎬 动作函数"
---

动作函数允许你在消息工具栏中为终端用户编写自定义按钮，以便他们进行互动。这一功能使消息更加互动化，让用户在执行任务前授予权限、生成结构化数据的可视化图表、下载聊天音频片段等众多应用场景成为可能。

你可以在[社区部分](https://openwebui.com/f/hub/custom_action/)找到一个动作代码的框架示例。

下面的视频展示了图形可视化的动作示例。

<p align="center">
  <a href="#">
    <img src="/img/pipelines/graph-viz-action.gif" alt="图形可视化动作" />
  </a>
</p>


### 动作
动作用于在消息界面（位于单个聊天消息下方的小按钮）中创建一个按钮。

动作包含一个主要组件，称为动作函数。该组件接收一个对象，定义了动作类型和处理的数据。

<details>
<summary>示例</summary>

```python
async def action(
        self,
        body: dict,
        __user__=None,
        __event_emitter__=None,
        __event_call__=None,
    ) -> Optional[dict]:
    print(f"action:{__name__}")

    response = await __event_call__(
        {
            "type": "input",
            "data": {
                "title": "写一条消息",
                "message": "在这里写下要追加的消息",
                "placeholder": "输入你的消息",
            },
        }
    )
    print(response)
```
</details>
